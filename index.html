<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Quiet Grace  ã¿ãŠã®1æ—¥ ã€œã‚ªãƒ•ã‚£ã‚¹ç·¨ã€œ</title>
<style>
body {
    margin: 0;
    font-family: "Hiragino Mincho ProN", serif;
    background: linear-gradient(#f8f6f2, #eae6df);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

.game-container {
    width: 380px;
    background: rgba(255,255,255,0.85);
    padding: 20px;
    border-radius: 16px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
}

h1 {
    font-size: 18px;
    text-align: center;
    margin-bottom: 10px;
}

.text {
    min-height: 100px;
    margin-bottom: 20px;
    line-height: 1.6;

    opacity: 0;
    animation: fadeText 1.2s ease forwards;
    animation-delay: 0.6s;
}
@keyframes fadeText {
    from {
        opacity: 0;
        transform: translateY(5px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
button {
    width: 100%;
    padding: 10px;
    margin-bottom: 8px;
    border: none;
    border-radius: 8px;
    background-color: #dcd6c8;
    font-size: 14px;
    cursor: pointer;
}

button:hover {
    background-color: #cfc7b6;
}

.status {
    margin-top: 14px;
    font-size: 12px;
    color: #666;
}

.status-row {
    display: flex;
    align-items: center;
    margin-bottom: 6px;
    gap: 8px;
}

.status-label {
    width: 80px;
    font-size: 12px;
    color: #888;
    flex-shrink: 0;
}

.status-bar-bg {
    flex: 1;
    height: 8px;
    background-color: #ede8df;
    border-radius: 4px;
    overflow: hidden;
}

.status-bar-fill {
    height: 100%;
    border-radius: 4px;
    transition: width 0.5s ease;
}

.grace-fill {
    background: linear-gradient(to right, #f0c0c8, #e8a0b0);
}

.stress-fill {
    background: linear-gradient(to right, #c8d8c0, #a0b890);
}

.scene-label {
    font-size: 11px;
    color: #aaa;
    text-align: center;
    margin-bottom: 8px;
    letter-spacing: 0.05em;
}

.scene-image {
    width: 65%;
    display: block;
    margin: 0 auto 15px auto;
    border-radius: 12px;

    opacity: 0;
    animation: fadeIn 1.5s ease forwards;
}
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.shop-message {
    font-size: 13px;
    color: #888;
    text-align: center;
    margin: 12px 0 8px 0;
    line-height: 1.7;
}

.shop-button {
    width: 100%;
    padding: 12px;
    margin-bottom: 8px;
    border: 1px solid #c8bfb0;
    border-radius: 8px;
    background-color: #f5f0e8;
    font-size: 14px;
    color: #5a5248;
    cursor: pointer;
    letter-spacing: 0.05em;
}

.shop-button:hover {
    background-color: #ede6d8;
}
</style>
</head>
<body>

<div class="game-container">
    <h1>Quiet Grace  ã¿ãŠã®1æ—¥ ã€œã‚ªãƒ•ã‚£ã‚¹ç·¨ã€œ</h1>
    <div class="scene-label" id="sceneLabel"></div>
    <div class="text" id="story"></div>
    <div id="choices"></div>
    <div class="status" id="status">
        <div class="status-row">
            <span class="status-label">ğŸŒ¸ ã‚„ã™ã‚‰ã</span>
            <div class="status-bar-bg"><div class="status-bar-fill grace-fill" id="graceBar" style="width:50%"></div></div>
        </div>
        <div class="status-row">
            <span class="status-label">ğŸƒ ã¤ã‹ã‚Œ</span>
            <div class="status-bar-bg"><div class="status-bar-fill stress-fill" id="stressBar" style="width:30%"></div></div>
        </div>
    </div>
</div>

<script>
let grace = 50;
let stress = 30;
let scene = 0;

const story = document.getElementById("story");
const choices = document.getElementById("choices");
const status = document.getElementById("status");
const sceneLabel = document.getElementById("sceneLabel");

const sceneLabels = [
    "ğŸŒ… æœ",
    "â˜€ï¸ åˆå‰",
    "ğŸ± ãƒ©ãƒ³ãƒ",
    "ğŸŒ¤ åˆå¾Œâ‘ ",
    "ğŸ“‹ åˆå¾Œâ‘¡",
    "ğŸŒ† é€€å‹¤å‰",
    "ğŸš¶ å¸°ã‚Šé“",
];

function updateStatus() {
    const graceBar = document.getElementById("graceBar");
    const stressBar = document.getElementById("stressBar");
    if (graceBar) graceBar.style.width = Math.min(grace, 100) + "%";
    if (stressBar) stressBar.style.width = Math.min(stress, 100) + "%";
}

function nextScene() {

    story.style.animation = "none";
    story.offsetHeight;
    story.style.animation = null;

    choices.innerHTML = "";

    sceneLabel.innerHTML = sceneLabels[scene] || "";

    if (scene === 0) {
        story.innerHTML = "<img src='images/mio_clipboard.png' class='scene-image'>" +
            "æœã€‚çª“ã‹ã‚‰ã‚„ã‚ã‚‰ã‹ãªå…‰ãŒå·®ã—è¾¼ã‚€ã€‚<br>ã¿ãŠã¯ä»Šæ—¥ã®æ°—æŒã¡ã‚’é¸ã¶ã€‚";
        createChoice("é™ã‹ã«æ·±å‘¼å¸ã™ã‚‹", 10, -5);
        createChoice("ã‚¹ãƒãƒ›ã‚’ã™ãç¢ºèªã™ã‚‹", -5, 5);
    }

    else if (scene === 1) {
        story.innerHTML = "<img src='images/mio_pc.png' class='scene-image'>" +
            "è·å ´ã€‚æ€¥ãªä»•äº‹ã‚’é ¼ã¾ã‚ŒãŸã€‚";
        createChoice("å¼•ãå—ã‘ã‚‹", -5, 10);
        createChoice("ã‚„ã‚“ã‚ã‚Šæ–­ã‚‹", 10, -5);
    }

    else if (scene === 2) {
        story.innerHTML = "<img src='images/mio_phone.png' class='scene-image'>" +
            "ãƒ©ãƒ³ãƒã‚¿ã‚¤ãƒ ã€‚åŒåƒšã«èª˜ã‚ã‚ŒãŸã€‚";
        createChoice("ä¸€ç·’ã«è¡Œã", 5, 5);
        createChoice("ä¸€äººã§é™ã‹ã«éã”ã™", 10, -5);
    }

    else if (scene === 3) {
        story.innerHTML = "<img src='images/mio_afternoon.png' class='scene-image'>" +
            "åˆå¾Œã€‚é›†ä¸­ã—ãŸã„ä½œæ¥­ãŒã‚ã‚‹ã€‚<br>ã¿ãŠã¯ã©ã†ã™ã‚‹ï¼Ÿ";
        createChoice("å¥½ããªéŸ³æ¥½ã‚’ãã£ã¨ã‹ã‘ã‚‹", 8, -5);
        createChoice("ç„¡éŸ³ã§é»™ã€…ã¨ä½œæ¥­ã™ã‚‹", 5, -3);
    }

    else if (scene === 4) {
        story.innerHTML = "<img src='images/mio_feedback.png' class='scene-image'>" +
            "ä¸Šå¸ã‹ã‚‰ä»•äº‹ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ã‚‚ã‚‰ã£ãŸã€‚<br>å°‘ã—å³ã—ã„è¨€è‘‰ã‚‚ã‚ã£ãŸã€‚";
        createChoice("ç´ ç›´ã«å—ã‘å–ã‚Šã€ãƒ¡ãƒ¢ã™ã‚‹", 8, 5);
        createChoice("å†…å¿ƒãƒ¢ãƒ¤ãƒ¢ãƒ¤ã—ãªãŒã‚‰é ·ã", -5, 10);
    }

    else if (scene === 5) {
        story.innerHTML = "<img src='images/mio_overtime.png' class='scene-image'>" +
            "é€€å‹¤å‰ã€‚ä¸Šå¸ã‹ã‚‰æ®‹æ¥­ã‚’é ¼ã¾ã‚ŒãŸã€‚<br>ã¿ãŠã®ä½“ã¯ã™ã§ã«å°‘ã—ç–²ã‚Œã¦ã„ã‚‹ã€‚";
        createChoice("ä»Šæ—¥ã¯æ–­ã£ã¦å¸°ã‚‹", 10, -8);
        createChoice("ç–²ã‚Œã¦ã„ã¦ã‚‚å¼•ãå—ã‘ã‚‹", -8, 12);
    }

    else if (scene === 6) {
        story.innerHTML = "<img src='images/mio_evening.png' class='scene-image'>" +
            "å¸°ã‚Šé“ã€‚å¤•æš®ã‚ŒãŒè¡—ã‚’æŸ“ã‚ã¦ã„ã‚‹ã€‚";
        createChoice("å¥½ããªãŠåº—ã«å¯„ã‚Šé“ã™ã‚‹", 8, -5);
        createChoice("ã¾ã£ã™ãå®¶ã«å¸°ã‚‹", 5, -8);
    }

    else {
        ending();
    }

    updateStatus();
}

function createChoice(text, graceChange, stressChange) {
    const button = document.createElement("button");
    button.innerText = text;
    button.onclick = function() {
        grace += graceChange;
        stress += stressChange;
        scene++;
        nextScene();
    };
    choices.appendChild(button);
}

function ending() {
    sceneLabel.innerHTML = "âœ¨ ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°";

    let shopMessage = "";

    if (grace >= 80 && stress <= 35) {
        story.innerHTML = "<img src='images/ending_perfect.png' class='scene-image'>" +
            "âœ¨ Perfect Grace âœ¨<br>ã¿ãŠã¯è‡ªåˆ†ã‚’ã¨ã¦ã‚‚å¤§åˆ‡ã«ã—ãŸä¸€æ—¥ã‚’éã”ã—ãŸã€‚<br>å¿ƒãŒæº€ãŸã•ã‚Œã¦ã„ã‚‹ã€‚";
        shopMessage = "è‡ªåˆ†ã‚’å¤§åˆ‡ã«ã™ã‚‹ã¿ãŠã®ã‚ˆã†ãªæ¯æ—¥ã‚’ã€ã‚ãªãŸã«ã‚‚ã€‚";
    } else if (grace >= 65 && stress <= 50) {
        story.innerHTML = "<img src='images/ending_balanced.png' class='scene-image'>" +
            "ğŸŒ¿ Balanced Grace ğŸŒ¿<br>ã¿ãŠã¯è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã‚’å®ˆã‚ŠãªãŒã‚‰ä¸€æ—¥ã‚’çµ‚ãˆãŸã€‚<br>é™ã‹ãªé”æˆæ„ŸãŒã‚ã‚‹ã€‚";
        shopMessage = "è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã‚’å¤§åˆ‡ã«ã™ã‚‹ã‚ãªãŸã¸ã€Pure Grace ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’ã€‚";
    } else if (stress > 65) {
        story.innerHTML = "<img src='images/ending_work.png' class='scene-image'>" +
            "ğŸ’¼ Work First<br>ä»•äº‹ã¯çµ‚ã‚ã£ãŸã‘ã‚Œã©ã€å¿ƒã¨ä½“ã«ç–²ã‚ŒãŒæ®‹ã£ãŸã€‚<br>æ˜æ—¥ã¯ã‚‚ã†å°‘ã—è‡ªåˆ†ã‚’å„ªå…ˆã—ã‚ˆã†ã€‚";
        shopMessage = "å°‘ã—ç–²ã‚ŒãŸã‚ãªãŸã«ã€é™ã‹ãªæ™‚é–“ã‚’è´ˆã‚Šã¾ã›ã‚“ã‹ã€‚";
    } else if (grace < 40) {
        story.innerHTML = "<img src='images/ending_cloudy.png' class='scene-image'>" +
            "ğŸŒ§ Cloudy Day<br>ä»Šæ—¥ã¯å°‘ã—ã†ã¾ãã„ã‹ãªã‹ã£ãŸã€‚<br>ã§ã‚‚ã€æ˜æ—¥ã¾ãŸé¸ã³ç›´ã›ã‚‹ã€‚";
        shopMessage = "æ˜æ—¥ã®è‡ªåˆ†ã¸ã€å°ã•ãªè´ˆã‚Šç‰©ã‚’ã—ã¦ã¿ã¾ã›ã‚“ã‹ã€‚";
    } else {
        story.innerHTML = "<img src='images/ending_quiet.png' class='scene-image'>" +
            "ğŸŒ¸ Quiet Grace<br>é™ã‹ãªå¼·ã•ãŒã€ã¿ãŠã®ä¸­ã«è‚²ã£ã¦ã„ã‚‹ã€‚<br>ä»Šæ—¥ã‚‚ã€ã‚ˆããŒã‚“ã°ã£ãŸã€‚";
        shopMessage = "é™ã‹ã«ãŒã‚“ã°ã‚‹ã‚ãªãŸã®æ¯æ—¥ã«ã€å¯„ã‚Šæ·»ã†ã‚¢ã‚¤ãƒ†ãƒ ãŒã‚ã‚Šã¾ã™ã€‚";
    }

    choices.innerHTML =
        "<p class='shop-message'>" + shopMessage + "</p>" +
        "<button class='shop-button' onclick=\"window.open('https://puregrace.shopselect.net/items/all', '_blank')\">Pure Grace ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¦‹ã‚‹</button>" +
        "<button onclick='location.reload()'>ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤</button>";
}

nextScene();
</script>

</body>
</html>
